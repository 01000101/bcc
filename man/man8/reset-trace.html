Content-type: text/html; charset=UTF-8

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of reset-trace</TITLE>
</HEAD><BODY>
<H1>reset-trace</H1>
Section: Maintenance Commands (8)<BR>Updated: 2016-10-18<BR><A HREF="#index">Index</A>
<A HREF="https://iovisor.github.io/bcc">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

reset-trace - reset the state of tracing.
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>reset-trace [-F] [-h] [-q] [-v]</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

You will probably never need this tool. If you kill -9 a bcc tool (plus other
signals, like SIGTERM), or if a bcc tool crashes, then kernel tracing can be
left in a semi-enabled state. It's not as bad as it sounds: there may just be
overhead for writing to ring buffers that are never read. This tool can be
used to clean up the tracing state, and reset and disable active tracing.
<P>
Make sure no other tracing sessions are active. This tool might stop them from
functioning (perhaps ungracefully).
<P>
This specifically clears the state in at least the following files in
/sys/kernel/debug/tracing: kprobe_events, uprobe_events, trace_pipe.
Other tracing facilities (ftrace) are checked, and if not in an expected state,
a note is printed. All tracing files can be reset with -F for force, but this
will interfere with any other running tracing sessions (eg, ftrace).
<A NAME="lbAE">&nbsp;</A>
<H2>REQUIREMENTS</H2>

/sys/kernel/debug mounted as debugfs
<A NAME="lbAF">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT>-F<DD>
Force. Will reset all tracing facilities, including those not used by bcc
(ftrace). You shouldn't need to use this.
<DT>-h<DD>
USAGE message.
<DT>-q<DD>
Quiet. No output while working.
<DT>-v<DD>
Verbose: print what it is doing.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLES</H2>

<DL COMPACT>
<DT>Reset the state of tracing:<DD>
#
<B>reset-trace</B>

<DT>Verbose:<DD>
#
<B>reset-trace -v</B>

<DT></DL>
<A NAME="lbAH">&nbsp;</A>
<H2>SOURCE</H2>

<DD>
This is from bcc.
<DL COMPACT>
<DT><DD>
<A HREF="https://github.com/iovisor/bcc">https://github.com/iovisor/bcc</A>
</DL>
<P>

Also look in the bcc distribution for a companion _examples.txt file containing
example usage, output, and commentary for this tool.
<A NAME="lbAI">&nbsp;</A>
<H2>OS</H2>

Linux
<A NAME="lbAJ">&nbsp;</A>
<H2>STABILITY</H2>

Unstable - in development.
<A NAME="lbAK">&nbsp;</A>
<H2>AUTHOR</H2>

Brendan Gregg
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">REQUIREMENTS</A><DD>
<DT><A HREF="#lbAF">OPTIONS</A><DD>
<DT><A HREF="#lbAG">EXAMPLES</A><DD>
<DT><A HREF="#lbAH">SOURCE</A><DD>
<DT><A HREF="#lbAI">OS</A><DD>
<DT><A HREF="#lbAJ">STABILITY</A><DD>
<DT><A HREF="#lbAK">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="https://iovisor.github.io/bcc">man2html</A>,
using the manual pages.<BR>
Time: 17:11:49 GMT, February 25, 2020
</BODY>
</HTML>
